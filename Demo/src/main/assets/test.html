<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="author" content="heyan">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, target-densitydpi=medium-dpi, user-scalable=no">
    <title>测试</title>
    <style>
        ul {
            list-style-type: none;
        }
        ul li {
            float: left;
            width: 100%;
            height: 60px;
            border-bottom: 1px solid #CCCCCC;
        }
        body {
            text-align: center;
        }
        input,button {
            margin-top: 10px;
            width:100%;
            padding-top:10px;
            padding-bottom:10px;
        }

    </style>
    <script type="text/javascript" src="jquery-1.12.4.min.js"></script>
</head>
<body>
<button onClick="checkAppUserInfo();">获取用户信息</button>
<button onClick="checkAppInfo();">获取系统信息</button>
<button onClick="checkLocationInfo();">获取定位信息</button>
<button onClick="checkStatusBarHeight();">获取状态栏高度</button>
<button onClick="checkTitleBarHeight();">获取标题栏高度</button>
<button onClick="imToiJs.closeWindow();">关闭当前页面 closeWindow</button>
<button onClick="imToiJs.showInfoMessage('提示一下');">气泡提示 showInfoMessage</button>
<button onClick="imToiJs.alert({title:'提示',message:'提示一下'})">提示对话框-只有确定 alert</button>
<button onClick="imToiJs.alert({title:'提示',message:'提示一下'},function(){imToiJs.showInfoMessage('你点了确定按钮');})">
    提示对话框-只有确定-回调 alert
</button>
<button onClick="testConfirm();">确认取消对话框 confirm</button>
<button onClick="testConfirmC()">确认取消对话框-确认回调 confirm</button>
<button onClick="testConfirmCC()">确认取消对话框-确认取消回调 confirm</button>
<button onClick="testConfirmCCOfSave()">确认取消对话框-保存取消回调 confirm</button>
<button onClick="imToiJs.showLoading('加载中...');">显示加载对话框</button>
<button onClick="imToiJs.closeLoading();">关闭加载对话框</button>
<button onClick="imToiJs.showLayer({'width':0.8,'height':0.6,'path':'http://m.baidu.com'},function(){imToiJs.showInfoMessage('你点了确定按钮');});">
    打开网页提示框
</button>
<button type="button" onClick="imToiJs.openShare({'title':'测试'});">分享</button>
<button type="button" onClick="checkAlipay();">支付测试</button>
<button type="button" onClick='imToiJs.pushUrl({type:2,value:{destination:"SuperPartnerApply"}});'>
    调用超级合伙人
</button>
<button type="button" onClick='imToiJs.pushUrl({type:2,value:{destination:"WithdrawAssets"}});'>
    调用提现
</button>
<button type="button" onClick="imToiJs.showInfoMessage(imToiJs.getHeaderStr())">获取头信息</button>
<button type="button" onClick="testShowImages();">图片浏览</button>
<button type="button" onClick="testShowImagesIndex();">图片浏览指定</button>
<button type="button" onClick="imToiJs.showLocation('商家位置','31.076144','103.546591');">显示指定定位
</button>
<button type="button" onClick="imToiJs.openNavi('商家导航','31.076144','103.546591');">显示导航</button>
<button type="button" onClick="testCacheSave();">缓存存储</button>
<button type="button" onClick="testCacheGet();">缓存获取</button>
<button type="button" onClick="imToiJs.openRefresh();">开启刷新</button>
<button type="button" onClick="imToiJs.endRefresh();">结束刷新</button>
<button type="button" onClick="imToiJs.closeRefresh();">禁止刷新</button>
<button type="button" onClick="imToiJs.closeRefresh();">禁止刷新</button>
<input type="file" name="pic" id="pic" accept="image/*" />

</body>
<script type="text/javascript">
    function appConfirm(title,message,confirm,cancel,successCallback,cancelCallback){
        imToiJs.confirm(
            {
                title:title,
                message:message,
                confirm:confirm,
                cancel:cancel,
            }, successCallback,cancelCallback
        );
    }
    function checkAppUserInfo(){
        var json = imToiJs.userInfo();
        if(!json){
            appConfirm('提示','您还未登录，请等候后再试...','登录','取消',
                function(){
                    imToiJs.jumpLogin();
                },function(){});
        }else{
            imToiJs.showInfoMessage(JSON.stringify(json));
        }
    }
    function checkAppInfo(){
        var json = imToiJs.deviceInfo();
        if(json){
            imToiJs.showInfoMessage(JSON.stringify(json));
        }
    }
    function checkLocationInfo(){
        var json = imToiJs.locationInfo();
        if(json){
            imToiJs.showInfoMessage(JSON.stringify(json));
        }else{
            imToiJs.showInfoMessage("定位中...，请稍后重试");
        }
    }
    function checkStatusBarHeight(){
        var height = imToiJs.statusBarHeight();
        imToiJs.showInfoMessage("状态栏高度："+height);
    }
    function checkTitleBarHeight(){
        var height = imToiJs.navigationBarHeight();
        imToiJs.showInfoMessage("标题栏高度："+height);
    }
    function checkAlipay(){
        imToiJs.showLoading("加载中...");
        imToiJs.toAlipay({
        "title":"测试支付",
        "desc":"测试哈哈",
        "order_no":"A20160616110932ce39cb8f000485105934",
        "money":"0.01",
        "callback":"http://test.imtoi.local",
        "rsa":"MIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBAPKtE2AiukHV9Z6IqpL6sGe/lQ5O5TUdrOOn+b0c+HQkzRLN3qvYil2cpsyNJaPHyBEz6k9B8An+2ZShZd/1yxH4jcCUs8C/05u/C6hfc/f7xrY1x1o15OlEI1z9tiujiH71OPtdhhOC38Zmsx3wTqzsvr7PTiLaDg4RcZgt/H0jAgMBAAECgYEA40Do8BIVUinHRZq+Ab35DG8AatG/GyqbCOX4nPxQPpNn58AaUdsKV/emy88x/FnOJS30shwRaYravrEV8dD/RBYnehWBkfQG5mniSra7yXqdPu7ZrmoLVEJYRkkDqm9AUIifGtkhiwb4d3bZec9+FyTADJY8/hHJEE/zOiL/H0ECQQD5sX3mtNe1moDMhTQVfsv3/OKzDPEguMObtnQPbTXntM4KjR0b7Hs//cShwb3R116VFcN6L+wSpY5xvoKGa6V7AkEA+M416VRbbTIaoIgR+c7+1o9wQBoT5/+fHmMYraN+6B1OiYgylPlVWgs+DjhVp0SSfUWQ8EQ4r6b1e7642/fyeQJAB4sxPpMgIUB1u7gahru59dgSEU7GyjJK1p2AjCbEhieUQgVZZ8qRPrGwCyMLVReop+Bsc3iXLUkLMKyMzPrbmQJBAJYrwJZoeBZcW33xIwhoS6AtS08lbkZlHyE0Jr0HJZ3rsm+IaR9Jrp5+kqH6lpgy50f9KRIb2ysJ1rkt0F3UNeECQQDuZJhIt8A+wD+vva8ENzeEuwVaHct2W74q7TXxAauc/OXsKvuc29WXHkn0Fme5KTwZEiFRO5joat4x4/OiIm+R"},
        function(){
            imToiJs.closeLoading();
            imToiJs.showInfoMessage("支付成功");
        },function(msg){
            imToiJs.closeLoading();
            imToiJs.showInfoMessage(msg);
        });
    }
    function testConfirm(){
        imToiJs.confirm({
                title:"提示",
                message:"提示一下",
            }
        );
    }
    function testConfirmC(){
         imToiJs.confirm({
                title:"提示",
                message:"提示一下",
            },
            function(){
                imToiJs.showInfoMessage('你点了确定按钮');
            }
        );
    }
    function testConfirmCC(){
         imToiJs.confirm({
                title:"提示",
                message:"提示一下",
            },
            function(){
                imToiJs.showInfoMessage('你点了确定按钮');
            },
            function(){
                imToiJs.showInfoMessage('你点了取消按钮');
            }
        );
    }
    function testConfirmCCOfSave(){
         imToiJs.confirm({
                title:"提示",
                message:"提示一下",
                confirm:"保存"
            },
            function(){
                imToiJs.showInfoMessage('你点了保存按钮');
            },
            function(){
                imToiJs.showInfoMessage('你点了取消按钮');
            }
        );
    }
    function testShowImages(){
         imToiJs.checkPhotos({
                pics:["http://img2.imgtn.bdimg.com/it/u=1798127745,3104218881&fm=206&gp=0.jpg",
                "http://www.microfotos.com/pic/0/90/9023/902372preview4.jpg",
                "http://img2.3lian.com/2014/f2/30/d/56.jpg",
                "http://img5.imgtn.bdimg.com/it/u=576097969,593013850&fm=206&gp=0.jpg",
                "http://img.tuku.cn/file_big/201403/71212e5ba473432aaf2875d83121571f.jpg",
                "http://img3.3lian.com/2013/s1/90/d/117.jpg",
                "http://y2.ifengimg.com/e7f199c1e0dbba14/2013/0516/rdn_5194caadadb0c.jpg",
                "http://ww2.sinaimg.cn/crop.0.0.980.300/b70b4830gw1ejuw3tbjtpj20r808c43f.jpg"],
                picIndex:0
        });
    }
    function testShowImagesIndex(){
         imToiJs.checkPhotos({
                pics:["http://img2.imgtn.bdimg.com/it/u=1798127745,3104218881&fm=206&gp=0.jpg",
                "http://www.microfotos.com/pic/0/90/9023/902372preview4.jpg",
                "http://img2.3lian.com/2014/f2/30/d/56.jpg",
                "http://img5.imgtn.bdimg.com/it/u=576097969,593013850&fm=206&gp=0.jpg",
                "http://img.tuku.cn/file_big/201403/71212e5ba473432aaf2875d83121571f.jpg",
                "http://img3.3lian.com/2013/s1/90/d/117.jpg",
                "http://ww2.sinaimg.cn/crop.0.0.980.300/b70b4830gw1ejuw3tbjtpj20r808c43f.jpg"],
                picIndex:3
        });
    }
    function testCacheSave(){
        var str = imToiJs.getCache("test");
        var json;
        if(str){
            json = JSON.parse(str);
            json.count ++;
        }else{
            json = {count:1,title:"缓存测试"};
        }
        imToiJs.setCache("test",JSON.stringify(json));
    }
    function testCacheGet(){
        var json = imToiJs.getCache("test");
        if(json){
            imToiJs.showInfoMessage(json);
        }else{
            imToiJs.showInfoMessage('没有数据');
        }
    }
    function loadMore(){
        imToiJs.showInfoMessage('调用了加载更多');
    }
   function onRefresh(){
        imToiJs.showInfoMessage('监听到了一个下拉刷新操作');
   }




</script>
</html>
